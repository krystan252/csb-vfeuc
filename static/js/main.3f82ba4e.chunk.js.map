{"version":3,"sources":["ErrorMessage.js","TxList.js","Payment.js","index.js"],"names":["ErrorMessage","message","className","xmlns","fill","viewBox","d","TxList","txs","length","map","item","hash","startPayment","a","setError","setTxs","ether","addr","window","ethereum","Error","send","provider","ethers","providers","Web3Provider","signer","getSigner","utils","getAddress","sendTransaction","to","value","parseEther","tx","console","log","Payment","useState","error","handleSubmit","e","preventDefault","data","FormData","target","get","onSubmit","type","name","placeholder","rootElement","document","getElementById","ReactDOM","render"],"mappings":"qOAAe,SAASA,EAAT,GAAoC,IAAZC,EAAW,EAAXA,QACrC,OAAKA,EAGH,qBAAKC,UAAU,yBAAf,SACE,sBAAKA,UAAU,SAAf,UACE,qBACEC,MAAM,6BACNC,KAAK,OACLC,QAAQ,YACRH,UAAU,8BAJZ,SAME,sBACE,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACbI,EAAE,qGAGN,gCAAQL,SAlBO,KCDR,SAASM,EAAT,GAA0B,IAARC,EAAO,EAAPA,IAC/B,OAAmB,IAAfA,EAAIC,OAAqB,KAG3B,mCACGD,EAAIE,KAAI,SAACC,GAAD,OACP,qBAAgBT,UAAU,wBAA1B,SACE,qBAAKA,UAAU,SAAf,SACE,gCAAQS,EAAKC,UAFPD,QCDlB,IAAME,EAAY,uCAAG,yCAAAC,EAAA,yDAASC,EAAT,EAASA,SAAUC,EAAnB,EAAmBA,OAAQC,EAA3B,EAA2BA,MAAOC,EAAlC,EAAkCA,KAAlC,SAEZC,OAAOC,SAFK,sBAGT,IAAIC,MAAM,8CAHD,uBAKXF,OAAOC,SAASE,KAAK,uBALV,cAMXC,EAAW,IAAIC,IAAOC,UAAUC,aAAaP,OAAOC,UACpDO,EAASJ,EAASK,YACxBJ,IAAOK,MAAMC,WAAWZ,GARP,UASAS,EAAOI,gBAAgB,CACtCC,GAAId,EACJe,MAAOT,IAAOK,MAAMK,WAAWjB,KAXhB,QASXkB,EATW,OAajBC,QAAQC,IAAI,CAAEpB,QAAOC,SACrBkB,QAAQC,IAAI,KAAMF,GAClBnB,EAAO,CAACmB,IAfS,kDAiBjBpB,EAAS,KAAId,SAjBI,0DAAH,sDAqBH,SAASqC,IACtB,MAA0BC,qBAA1B,mBAAOC,EAAP,KAAczB,EAAd,KACA,EAAsBwB,mBAAS,IAA/B,mBAAO/B,EAAP,KAAYQ,EAAZ,KAEMyB,EAAY,uCAAG,WAAOC,GAAP,eAAA5B,EAAA,6DACnB4B,EAAEC,iBACIC,EAAO,IAAIC,SAASH,EAAEI,QAC5B/B,IAHmB,SAIbF,EAAa,CACjBE,WACAC,SACAC,MAAO2B,EAAKG,IAAI,SAChB7B,KAAM0B,EAAKG,IAAI,UARE,2CAAH,sDAYlB,OACE,sBAAM7C,UAAU,MAAM8C,SAAUP,EAAhC,SACE,sBAAKvC,UAAU,8EAAf,UACE,uBAAMA,UAAU,WAAhB,UACE,oBAAIA,UAAU,kDAAd,8BAGA,sBAAKA,UAAU,GAAf,UACE,qBAAKA,UAAU,OAAf,SACE,uBACE+C,KAAK,OACLC,KAAK,OACLhD,UAAU,kEACViD,YAAY,wBAGhB,qBAAKjD,UAAU,OAAf,SACE,uBACEgD,KAAK,QACLD,KAAK,OACL/C,UAAU,kEACViD,YAAY,0BAKpB,yBAAQjD,UAAU,MAAlB,UACE,wBACE+C,KAAK,SACL/C,UAAU,qEAFZ,qBAMA,cAACF,EAAD,CAAcC,QAASuC,IACvB,cAACjC,EAAD,CAAQC,IAAKA,YCvEvB,IAAM4C,EAAcC,SAASC,eAAe,QAC5CC,IAASC,OACP,cAAC,aAAD,UACE,cAAClB,EAAD,MAEFc,K","file":"static/js/main.3f82ba4e.chunk.js","sourcesContent":["export default function ErrorMessage({ message }) {\n  if (!message) return null;\n\n  return (\n    <div className=\"alert alert-error mt-5\">\n      <div className=\"flex-1\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          className=\"w-6 h-6 mx-2 stroke-current\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636\"\n          ></path>\n        </svg>\n        <label>{message}</label>\n      </div>\n    </div>\n  );\n}\n","export default function TxList({ txs }) {\n  if (txs.length === 0) return null;\n\n  return (\n    <>\n      {txs.map((item) => (\n        <div key={item} className=\"alert alert-info mt-5\">\n          <div className=\"flex-1\">\n            <label>{item.hash}</label>\n          </div>\n        </div>\n      ))}\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport ErrorMessage from \"./ErrorMessage\";\nimport TxList from \"./TxList\";\n\nconst startPayment = async ({ setError, setTxs, ether, addr }) => {\n  try {\n    if (!window.ethereum)\n      throw new Error(\"No crypto wallet found. Please install it.\");\n\n    await window.ethereum.send(\"eth_requestAccounts\");\n    const provider = new ethers.providers.Web3Provider(window.ethereum);\n    const signer = provider.getSigner();\n    ethers.utils.getAddress(addr);\n    const tx = await signer.sendTransaction({\n      to: addr,\n      value: ethers.utils.parseEther(ether)\n    });\n    console.log({ ether, addr });\n    console.log(\"tx\", tx);\n    setTxs([tx]);\n  } catch (err) {\n    setError(err.message);\n  }\n};\n\nexport default function Payment() {\n  const [error, setError] = useState();\n  const [txs, setTxs] = useState([]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const data = new FormData(e.target);\n    setError();\n    await startPayment({\n      setError,\n      setTxs,\n      ether: data.get(\"ether\"),\n      addr: data.get(\"addr\")\n    });\n  };\n\n  return (\n    <form className=\"m-4\" onSubmit={handleSubmit}>\n      <div className=\"credit-card w-full lg:w-1/2 sm:w-auto shadow-lg mx-auto rounded-xl bg-white\">\n        <main className=\"mt-4 p-4\">\n          <h1 className=\"text-xl font-semibold text-gray-700 text-center\">\n            Send ETH payment\n          </h1>\n          <div className=\"\">\n            <div className=\"my-3\">\n              <input\n                type=\"text\"\n                name=\"addr\"\n                className=\"input input-bordered block w-full focus:ring focus:outline-none\"\n                placeholder=\"Recipient Address\"\n              />\n            </div>\n            <div className=\"my-3\">\n              <input\n                name=\"ether\"\n                type=\"text\"\n                className=\"input input-bordered block w-full focus:ring focus:outline-none\"\n                placeholder=\"Amount in ETH\"\n              />\n            </div>\n          </div>\n        </main>\n        <footer className=\"p-4\">\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary submit-button focus:ring focus:outline-none w-full\"\n          >\n            Pay now\n          </button>\n          <ErrorMessage message={error} />\n          <TxList txs={txs} />\n        </footer>\n      </div>\n    </form>\n  );\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport Payment from \"./Payment\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <Payment />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}